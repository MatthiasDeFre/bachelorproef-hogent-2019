\chapter{Longlist verschillende AR / VR technologieën}
\label{ch:longlist}

Hierin worden de verschillende technologieën overlopen die kunnen gebruikt worden om deze use case te volbrengen.
Elke sectie bevat de belangrijkste zaken in verband met de technologie waaronder: gebruikte algoritmen, zaken waar men rekening mee moet houden, sensoren en een analyse over de de drie variabelen (realisme, interactiviteit, bruikbaarheid).

\section{Head Mounted Virtual Reality}
Head mounted virtual reality maakt gebruik van een \acrshort{hmd} die de gebruiker op zijn hoofd zet. Deze headset zal dan een virtuele wereld tonen die volledig aangestuurd is door de applicatie zelf. Deze wereld zal dus geen rekening houden met de echte wereld, dit kan hierdoor wel voor problemen zorgen indien er geen sensor of camera aanwezig is die je tegenhoud om tegen muren te lopen.

HMD kan over \acrshort{3dof} of \acrshort{6dof} beschikken afhankelijk van de gebruikte headset. De 3DOF headsets zijn wel goedkoper dan de \acrshort{6dof} en maken vaak gebruik van de smartphone om zo het beeld te kunnen tonen. 
% TODO CONTENT Iets over het beeld dat in 2 wordt gesplitst, op elke oog 1 beeld
% TODO ASK Is uitleg over hoe het beeld op de ogen wordt geprojecteerd en geinterpreteerd door de hersenen teveel of topic?
\subsection{Medische Klachten}
Sommige mensen kunnen bij het gebruik van een HDM ziek of misselijk worden. De oorzaak van dit is meestal verbonden met een te klein of onnatuurlijk gezichtsveld, \acrfull{fov} (INSERT CITE) of als de beweging in de applicatie gebeurt a.h.v. teleportatie. (INSERT CITE) Deze teleportatie beweging komt vooral voor bij \acrshort{3dof} omdat hierbij er manieren zijn om de camerea te bewegen, namelijk teleportatie of via een joystick.

De tijd tussen de beweging in de echte wereld en de virtuele (latency) kan ook invloed hebben op virtual reality sickness indien deze te hoog is \autocite{Elbamby2018} en \autocite{DiZio2000}. 
% TODO TRANSLATE disconnection
Veel van deze problemen hebben te maken met de staat van de huidige hardware en hoe deze geen hogere FoV aan een hoge framerate kunnen ondersteunen. Een hoge en stabiele framerate is nodig indien om de gebruiker een aangename ervaring te geven. Een te lage framerate kan ervoor zorgen dat er (TRANSLATE) disconnection is tussen de beweging van de gebruiker en het gene dat effectief op het scherm gebeurt, dit kan voor frustratie zorgen.
\subsection{Sensoren}
% TODO ASK Extra uitleg over IMU of niet?
De gebruikte sensoren bij een \acrshort{hmd} hangen af van de gewenste bewegingen. Als er alleen maar rotationale bewegingen nodig zijn zal een gyroscoop of een \acrfull{imu} (bij standalone headsets) genoeg zijn om zo de yaw, pitch, roll te kunnen meten en hierop te kunnen reageren \autocite{LaValle2014}. Indien er ook positionale bewegingen nodig zijn zal de kamer wel moeten beschikken over infraroodsensoren om zo de headset te kunnen tracken. Deze sensoren zorgen er wel voor dat er meer voorbereiding nodig is alvorens het gebruik van de headset.
% TODO CITE Infrared
\subsection{Realisme}
Omdat de headset het beeld op de beide ogen projecteert is er geen besef van de echte wereld en kan de virtuele wereld makkelijker als 'echt' worden ervaart. De headset zal ook gemonteerd zijn op het hoofd waardoor beide handen vrij zijn om acties uit te voeren. Hierdoor maken beide handen deel uit van de virtuele wereld wat de ervaring nog meer realistischer maakt.
% TODO CONTENT Iets over latency => tijd tussen beweging hoofd en beweging in vr
\subsection{Interactiviteit}
De manier waarop de gebruiker zal interageren met de virtuele wereld zal afhangen van het aantal vrijheidsgraden bij \acrshort{6dof} zal hij de mogelijkheid hebben om zelf te kunnen rondlopen in de wereld terwijl bij \acrshort{3dof} dit a.h.v. een joystick of via teleportatie zal moeten. Er is ook altijd de mogelijkheid om controllers te gebruiken. Deze controllers zullen dan de mogelijkheid bieden om fysieke interacties te kunnen doen, bijvoorbeeld het oppakken van een virtueel object of door op één van de knoppen van de controller te duwen een actie uit te voeren.

\begin{figure}
    \includegraphics[width=\linewidth]{headset.jpg}
    \caption{HTC Vive headset en controllers}
    \label{fig:htcvive}
\end{figure}

\subsection{Bruikbaarheid}
De bruikbaarheid van HMD in musea is nogal laag. Het is niet echt praktisch om gebruikers met een \acrshort{hmd} (Google Cardboard of Full HMD) te laten rondlopen omdat dit veel ruimte in het museum zou kosten om goed te implementeren. Gebruikt het museum dit toch kan er hierbij toch een hoge financiele kost aanhangen. Afhankelijk of de gebruikers moeten langskomen voor de applicatie uit te proberen of niet kan het zijn dat het museum headsets moet aankopen en hiervoor een speciale ruimte moet inrichten.

Meeste mensen die naar een museum gaan willen juist rondlopen in het museum zelf en niet in de virtuele versie hiervan. Het is daarom ook niet echt logisch om een HMD hiervoor te gebruiken. Natuurlijk als het museum een ervaring zoals bij het Historium Brugge wilt is een \acrshort{hmd} wel gepast of zelfs nodig.

\section{Augmented Reality} \label{sec:augmentedreality}
Augmented reality kan het best worden omschreven als het plaatsen van virtuele objecten in de echte wereld maar zonder de mogelijkheid om fysiek te reageren met deze objecten. Voor deze technologie is er vaak geen headset nodig maar eerder gewoon een smartphone. Indien toch gewenst, of nodig, is wel de mogelijkheid om een augmented reality headset te gebruiken. Deze bieden de mogelijkheid om de smartphone in te plaatsen waardoor deze zal functioneren als het hardwaregedeelte van de bril. \autocite{Schops2014}.

\subsection{Plane Detection}
Om virtuele objecten in de echte wereld te kunnen plaatsen moet de echte wereld eerst gemapped. Dit gebeurt a.h.v. computer vision om zo te weten waar een nieuwe plane begint en eindigt. Dit algoritme zal constant lopen om zo nieuwe planes te kunnen ontdekken \autocite{Xu2018}. Het gebruikte algoritme zal een vorm zijn van odometry tracking.

Eens een plane ontdekt is kan deze dienen als een platform om nieuwe objecten op te plaatsen. De applicatie zal dan het object verbinden aan een ankerpunt (INSERT CITE). Het object verbindt zich dan met een ankerpunt waar deze zijn locatie zal onthouden zelfs als de gebruiker wat verder weg wandelend. Er zijn echter wel limieten aan dit anker, indien de gebruiker te ver weggaat van het punt en nadien terugkomt zal het virtuele object verplaatst zijn, dit begrip noemt drifting \autocite{You1999}. Indien er grote precisie nodig is voor de applicatie kan dit wel problemen zorgen.

\subsection{Odometry Tracking}

Door gebruik te maken van de \acrshort{imu} en dus ook de gyroscope en accelerometers die in een smartphone zitten heeft deze de mogelijkheid om vlakken te herkennen maar ook om zo achteraf terug te kunnen weten welke gebieden er al gescand zijn geweest. \autocite{Leutenegger2015}.

De twee grote native AR frameworks maken hier beide gebruik van. De techniek die ARCore gebruikt noemt 'concurrent odometry and mapping' (INSERT CITE GOOGLE) terwijl de gebruikte techniek van ARKit 'visual-inertial odometry' (INSERT CITE APPLE) noemt. 

Beide technieken werken echter wel op dezelfde manier. Het algoritme combineert de motion data van de smartphone met de herkende features van het camerabeeld en berekent zo de verandering in positie. Hierdoor kunnen de juiste anchors en dus hun objecten worden getoond (INSERT CITE APPLE) (INSERT CITE GOOGLE).

Een iets oudere vorm van odometry tracking is \acrfull{slam}, deze zal ook gebruik maken van features maar is eerder gericht om een kaart bij te houden van de gemapte omgeving. Dit gebeurt door te weten wanneer een bepaalde gebied al ontdekt is en wanneer het dus niet nodig is om deze opnieuw toe te voegen aan de mapping (loop closure). Hierdoor zal \acrshort{slam} wel een beter globaal beeld hebben de ruimte in tegenstelling tot odometry tracking, Deze is meer gericht op het behouden van het lokaal beeld zodat de objecten goed op hun plaats blijven \autocite{Yousif2015}. Dit is echter wel niet toepasbaar op elk framework omdat deze meestal een combinatie van de twee gebruiken of een eigen implementatie.

\begin{figure}
    \includegraphics[width=\linewidth]{voVSslam.png}
    \caption{Visual Odometry versus SLAM \autocite{Yousif2015}}
    \label{fig:voVSslam}
\end{figure}


De kwaliteit van het camerabeeld zal een invloed hebben op de accuraatheid van het algoritme. Als er bijvoorbeeld te weinig licht is zal het algoritme de locatie niet kunnen herkennen. (INSERT CITE APPLE).

\begin{figure}
    \includegraphics[width=\linewidth]{pointcloudarkit.jpg}
    \caption{ARKit Visual-Inertial Odometry}
    \label{fig:pointcloudarkit}
\end{figure}


% TODO IMAGE Point cloud / plane detection
% TODO CITE Object Anchor, alleen maar concrete implementaties gevonden ARCORE / ARKIT https://developers.google.com/ar/develop/developer-guides/anchors
\subsection{Image Recognition}
Een tweede manier om virtuele objecten in de wereld te plaatsen is met image recognition. Meeste frameworks zullen ook hiervoor computer vision gebruiken zoals te zien op figuur \ref{fig:imagereg}.

De image zal dienen als ankerpunt om de virtuele objecten op te plaatsen en te onthouden. 
Eens de image is herkend is er de mogelijkheid om de objecten te erop plaatsen. Wanneer de smartphone de afbeelding niet meer kan zien zal deze de positie van het object, na een tijdje, vergeten en zal tracking zich uitzetten. Het virtuele object verschijnt terug wanneer de smartphone de afbeelding weer herkent.

Een alternatief van image recognition is object recognition. In plaats van het herkennen van een 2d afbeelding wordt er hier een 3d object gebruikt (INSERT CITE VUFORIA).

\begin{figure}
    \includegraphics[width=\linewidth]{vuforiaImageReg.png}
    \caption{Aangeduide features op een afbeelding}
    \label{fig:imagereg}
\end{figure}

\subsection{Realisme}
Omdat augmented reality geen besef heeft van aanpassingen in de wereld, bv een persoon die voor de camera loopt is het soms wel moeilijk om een immersieve ervaring te maken. Dit is vooral omdat de huidige hardware van een smartphone het niet aankan om constant op zoek te gaan naar kleine veranderingen terwijl een HoloLens (Mixed Reality) dit bijvoorbeeld wel kan.

Er zijn wel nog extra technieken die frameworks kunnen gebruiken om toch nog wat extra immersie te creëren zoals light estimation. Bij dit kunnen virtuele objecten reageren wanneer de echte wereld lichter of donkerder wordt (INSERT CITE GOOGLE).

\subsection{Interactiviteit}
Het gebruik van een smartphone kan de interactiviteit van een applicatie verminderen omdat de gebruiker deze moet vasthouden en dus maar één hand vrij heeft. Door gebruik te maken van een augmented reality headset zal dit probleem zich wel oplossen.

De virtuele wereld zal wel nooit echt reageren op fysieke handelingen wat er dus voor zorgt dat elke actie op het scherm van de smartphone moet gebeuren.

Alhoewel deze twee zaken als grote nadelen kunnen gezien worden kan men hier ook gebruik van maken. Aangezien de smartphone in de hand is kunnen ook niet augmented reality zaken worden gebruikt. Er kan bijvoorbeeld een menu zijn waar de gebruiker verschillende rondleidingen uit kan kiezen.

\subsection{Bruikbaarheid}
Het gebrek aan een kabel bij augmented reality zorgt er voor dat dit op vele plaatsen bruikbaar is. Vooral bij musea is dit handig omdat het hele museum kan dienen als platform voor de virtuele wereld en er geen speciale ruimtes nodig zijn.

Vele mensen die naar musea gaan hebben vaak hun smartphone bij wat er dus voor zorgt dat de gebruiker alleen een app nodig heeft om mee te doen aan de ervaring.

Image en object recognition is ook iets dat heel makkelijk te implementeren is in musea omdat bestaande kunstwerken kunnen dienen als objecten voor het weergeven van de virtuele content.

\section{360 Degrees Videos}
360 Degrees Videos is de simpelste vorm van virtual reality in deze longlist. Eigenlijk zijn dit gewoon videos waarbij de gebruiker de camera 360 graden kan draaien \autocite{Hosseini2016}.

Om deze video's te bekijken is er eigenlijk niets speciaal nodig. Als een 360 graden video op een desktop wordt bekeken zal de camera nog altijd kunnen draaien door middel van de pijltjestoetsen. Terwijl wanneer deze op een apparaat met een \acrshort{imu} zal draaien door met het apparaat te bewegen. Wanneer er een IMU wordt gebruikt kan er nog altijd een onderscheid tussen een \acrshort{hmd} en een gewoon apparaat. Als een \acrshort{hmd} aanwezig zal de video worden getoond in VR. Bij een gewoon device zal de video echter een normale video zijn maar wel met de mogelijkheid om de camera te draaien.

\subsection{Recording}
Het opnemen van deze video is wel iets ingewikkelder. Er zijn twee formaten om een 360 graden video voor te stellen namelijk equirectangular en cubic \autocite{Lee2010}. 

Bij het equirectangular formaat zal deze elke frame van de video op een vlakke afbeelding projecteren. Deze afbeelding kan dan op een bol worden gelegd en deze bol zal de video voorstellen. Een makkelijke manier om een equirectangular afbeelding voor te stellen is namelijk een wereldkaart. Wanneer men een wereldkaart op een bol legt zal deze een wereldbol worden.
 
\begin{figure}
    \includegraphics[width=\linewidth]{equirectangular.png}
    \caption{Een equirectangular projectie van de wereld}
    \label{fig:equirectangularprojection}
\end{figure}

Het cubic formaat werkt ongeveer op dezelfde manier behalve dat deze de frame in zes afbeeldingen zal opdelen die elk een zijde van de kubus zal voorstellen.

% TODO ASK Uitleg van projectie op vlakke afbeelding?
\subsection{Realisme}
Een 360 graden video kan bestaan uit echte beelden of virtuele beelden op die manier zijn er veel mogelijkheden om deze video immersief te maken. 

Wanneer men kijkt naar de sensorama kan men zien dat dit eigenlijk ook een 360 graden video is. Hier werd de ervaring immersief gemaakt door de zintuigen te stimuleren en zoals al eerder vermeld is dit één van de belangrijkste manieren waarop het gevoel van realisme kan worden opgewekt.

\subsection{Interactiviteit}
Het enigste wat een gebruiker kan doen bij een 360 graden video is het ronddraaien van de camera hierdoor is de interactiviteit minimaal. Toch zijn er 360 apps die net iets meer interactiviteit hebben, bij deze is er bijvoorbeeld de mogelijkheid om naar objecten te kijken en daarover informatie te tonen. Ook is er de mogelijkheid om voorwerpen te verstoppen in de video waar de gebruiker dan op zoek naar moet gaan.
\subsection{Bruikbaarheid}
Omdat de video op elk apparaat dat Youtube of een andere 360 player ondersteund kan draaien is het heel bruikbaar. Echter om de volledige ervaring te krijgen wordt er best wel gebruikgemaakt van een HMD.

Hierbij komt echter hetzelfde probleem voor als bij virtual reality. Het is niet echt logisch dat musea deze technologie gebruiken omdat de meeste bezoekers naar een museum komen om dit fysiek te bezoeken en niet virtueel.

\section{Mixed Reality} \label{sec:mixedreality}
Ook Mixed Reality zal gebruik maken van een \acrshort{hmd}. Het grote verschil met virtual reality is dat er bij mixed reality ook rekening wordt gehouden met de echte wereld. Een mixed reality headset heeft namelijk de mogelijkheid om de echte wereld te mappen naar een virtuele wereld a.h.v. de camera die langs de voorkant gemonteerd is.

Een mixed reality headset is ook uitgerust met verschillende sensoren om de positie binnen in de wereld te volgen. Door de combinatie van de mapping en sensoren is het dus niet nodig om extra sensoren te plaatsen om room-scale VR te te gebruiken.

\subsection{Gestures}
Sommige headsets ondersteunen ook het herkennen van bepaalde handbewegingen, met deze bewegingen, of gestures, kan de gebruiker dan bepaalde acties uitvoeren in de virtuele wereld. De ondersteunde gestures variëren echter wel van headset tot headset en hierdoor is het moeilijk om een applicatie te maken die op groot aantal verschillende headsets draait (INSERT CITE HOLOLENS / MAGIC LEAP GESTURES).

% TODO Content gesture herkenning

\subsection{Spatial Mapping}
Door gebruik te maken van de dieptecamera's die aanwezig zijn in de Mixed Reality headsets is het mogelijk om een mesh (een virtueel object dat bestaat uit driehoeken, zie figuur \ref{fig:mesh}) te maken die de ruimte voorstelt \autocite{Evans2017}. De applicatie zal dan de virtuele objecten op deze mesh plaatsen om ze weer te geven. 

\begin{figure}
    \includegraphics[width=\linewidth]{mesh.jpg}
    \caption{Mesh gemaakt door HoloLens spatial mapping algoritme}
    \label{fig:mesh}
\end{figure}

Zoals te zien op figuur \ref{fig:mesh} bevat de mesh redelijk veel detail over de ruimte, toch kan soms moeilijk om kleine details uit een mesh te krijgen \autocite{Evans2017}.

% TODO IMAGE Mesh
\subsection{Realisme}
Mixed reality zal één van de meest realistische VR technologieën zijn omdat deze de kracht van augmented en virtual reality bevat. Het is mogelijk om virtuele objecten in de echte wereld te plaatsen en om hier ook fysiek mee te reageren. Een extra vorm van realisme komt door het gebruik van occlusion. Dit is wanneer een virtueel object wordt geblokkeerd door een ander virtueel of zelfs fysiek object. Op deze manier zal de gebruiker nog meer het gevoel krijgen dat de virtuele wereld deel uit maakt van de echte \autocite{Evans2017}.

\subsection{Interactiviteit}
In tegenstelling tot augmented reality zal mixed reality wel rekening houden met de fysieke wereld. Op deze manier kan de gebruiker zijn handen gebruiken om met de virtuele wereld te communiceren. Hierdoor zijn er veel verschillende mogelijkheden om dit in een applicatie te implementeren.

Ook kan de headset gebruikmaken van een gewone \acrshort{6dof} controller op deze manier moet er geen rekening worden gehouden met welke gestures er ondersteund zijn.

\subsection{Bruikbaarheid}
Een mixed reality headset heeft, zolang deze niet aan het opgeladen is, ook geen kabel nodig en kan dus in het hele museum worden gebruikt alsook heeft deze geen externe sensoren nodig om aan room scale VR te doen. 

Het grote nadeel van een mixed reality headset is namelijk de prijs. Indien de applicatie ontwikkelt is voor thuisgebruik zal de doelgroep beperkt zijn, terwijl als het de bedoeling is om de applicatie te gebruiken in het museum zelf kan de kost wel nog oplopen.

% TODO ASK Uitleg gyropscoop? te ingewikkeld?
% TODO CONTENT Depth Camera
% TODO CONTENT Alternative devices? AR glasses? Future of?

\section{Conclusie Longlist}
Wanneer alle technologieën naast elkaar worden gelegd en er naar de drie variabelen wordt gekeken kan men zien dat elke technologie wel zijn voordelen heeft maar ook telkens zijn nadelen heeft. De `beste` technologie zal dus afhangen variëren van musea tot musea. 

Musea met veel geld zullen bijvoorbeeld kiezen om gebruik te maken van mixed reality om zo de meest interactieve en realistische ervaring te geven. Terwijl een stadsmuseum met een beperkt budget misschien eerder zal kiezen voor augmented reality om zo het ruime publiek dat zij over vloer krijgen aan te spreken. Het is ook voor deze reden dat augmented reality verder wordt besproken in de shortlist omdat deze de meest gemiddelde ervaring biedt.

Augmented reality biedt namelijk een goed niveau van realisme zolang dit goed geimplementeerd en wanneer de applicatie originele (maar passende) features bevat zal er ook tamelijk wat interactiviteit mogelijk zijn. Ook omdat alleen een smartphone nodig is zal een groot doelpubliek hebben.